## Ключ SSH
Використання SSH-ключів забезпечує кращий рівень безпеки, ніж авторизація за допомогою паролів:

Надійніше шифрування: SSH-ключі використовують дуже стійкі алгоритми шифрування, такі як RSA або ECDSA, що забезпечує високий рівень захисту.

Відсутність передачі паролів: При авторизації за допомогою ключів не відбувається передача паролів через мережу. Це унеможливлює перехоплення або вгадування пароля під час його передачі мережею.

Безпечне зберігання ключів: Закритий ключ залишається з вами та вашим пристроєм, тому навіть якщо публічний ключ буде втрачено, безпека не буде порушена, якщо зловмисник не отримає доступ до закритого ключа.

Зручність та автоматизація: SSH-ключі дозволяють здійснювати автоматичну авторизацію без введення пароля, що робить їх зручними для використання в автоматизованих процесах, таких як сценарії або резервне копіювання.

Складність підбору ключа: Стандартна довжина ключа (наприклад, 2048 біт для RSA) робить злам SSH-ключів методом грубої сили практично неможливим.

Загалом, використання SSH-ключів є важливою складовою безпеки системи, оскільки вони забезпечують високий рівень безпеки та зручності при авторизації на серверах.

##

# Крок 1: Згенеруйте SSH-ключі:
Команда ssh-keygen -t rsa генерує ключі без пароля для безпечного доступу до сервера.
``````
ssh-keygen -t rsa
``````
##

# Крок 2: Відповіді при генерації ключів:

Після запуску команди з'явиться наступне вікно:
``````
Generating public/private rsa key pair.
Enter file in which to save the key (/home/username/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/username/.ssh/id_rsa.
Your public key has been saved in /home/username/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:7bFVOyHlwW6y4s3... username@hostname
The key's randomart image is:
+---[RSA 2048]----+
|     .o.         |
|   o..o=         |
|    =.=o+.       |
|   o = +E.       |
|  . + = S        |
| . o + .         |
|  . + .          |
|   o .           |
|                 |
+----[SHA256]-----+
``````

##

# Крок 3: Додайте публічний ключ на сервер

У Windows:
"Ваш відкритий ключ збережено у C:\Users\username.ssh\id_rsa.pub".

У Linux:
"/home/username/.ssh/id_rsa.pub"

На сервері:
Для вашого користувача:
``````
nano ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
``````
На root:
``````
nano /root/.ssh/authorized_keys
chmod 600 /root/.ssh/authorized_keys
``````

##

# Щоб вимкнути автентифікацію за допомогою пароля, внесіть наступні зміни до файлу на сервері:
Перейдіть до файлу конфігурації SSH на сервері:
```
/etc/ssh/sshd_config
```
Змініть значення параметра ````PasswordAuthentication no````.
Перезапустіть службу SSH, щоб застосувати зміни: sudo systemctl restart sshd (для систем на основі systemd).

Це вимкне автентифікацію за допомогою пароля через SSH, дозволяючи використовувати лише ключі SSH для входу на сервер.

## Підключення по SSH

SSH (Secure SHell) - це мережевий протокол прикладного рівня, призначений для безпечного віддаленого доступу до UNIX-систем. Цей протокол ефективний тим, що шифрує всю інформацію, яка передається по мережі. За замовчуванням використовується порт 22. В основному використовується для віддаленого управління даними користувача на сервері, запуску сервісних команд, роботи в консольному режимі з базами даних.

##

Для SSH-підключення можна використовувати команду
```
ssh user@host
```
user - користувач, до якого ssh буде підключатися до машини

host - це IP-адреса або домен для підключення до машини

##

Коротко про те, як підключитися користувач може бути встановлений як root, але якщо у вас чиста машина, вам потрібно включити його в /etc/ssh/sshd_config.
Ви можете використовувати nano, але також можете використовувати vi або щось інше, тому я навів приклад:
```
nano /etc/sshd_config
```
``````
vi /etc/sshd_config
``````
Коли ми перейшли до файлу sshd_config, нам потрібен наступний рядок
```
#PermitRootLogin
```
Нам потрібно видалити #, тому ми повинні бути в змозі зробити це
```
PermitRootLogin
```
Тепер нам потрібно поставити "yes".
```
PermitRootLogin yes
```
А тепер потрібно перезапустити sshd, а перезавантаження системи ssh виконується командою
```
systemctl restart ssh ||| systemctl restart sshd
```
Або на старих версіях linux
```
service ssh restart || service sshd restart
```
Тепер ви можете увійти в систему так, як я написав root.
```
ssh root@host
```
